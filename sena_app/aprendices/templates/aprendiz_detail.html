{% extends 'base.html' %}
{% block title %}Detalle Aprendiz{% endblock %}
{% block content %}
<div class="section-accent-top mb-4">
  <h2 class="section-title d-flex align-items-center gap-2"><i class="bi bi-person-badge text-accent"></i> Perfil del Aprendiz</h2>
  <p class="text-muted mb-0">Resumen de la información académica y de contacto.</p>
</div>

<div class="card shadow-sm border-0 fade-in-up">
  <div class="card-header bg-accent-soft border-0 d-flex align-items-center gap-3">
    <div class="rounded-circle bg-dark text-white d-flex align-items-center justify-content-center" style="width:48px;height:48px;">
      <i class="bi bi-person-fill"></i>
    </div>
    <div>
      <div class="h5 mb-0 fw-bold">{{ object.nombre }} {{ object.apellido }}</div>
      <div class="small text-muted">Documento: {{ object.documento_identidad }}</div>
    </div>
    <div class="ms-auto d-flex flex-wrap gap-2">
      <a href="{% url 'aprendiz_update' object.id %}" class="btn btn-warning"><i class="bi bi-pencil-square"></i> Editar</a>
      <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteAprendizModal"><i class="bi bi-trash"></i> Eliminar</button>
      <a href="{% url 'lista_aprendices' %}" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Volver</a>
    </div>
  </div>
  <div class="card-body">
    <div class="row g-3">
      <div class="col-12 col-md-6">
        <div class="info-tile h-100">
          <h6 class="mb-2"><i class="bi bi-telephone text-accent"></i> Teléfono</h6>
          <p class="mb-0">{{ object.telefono|default:'No registra' }}</p>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="info-tile h-100">
          <h6 class="mb-2"><i class="bi bi-envelope text-accent"></i> Correo</h6>
          <p class="mb-0">{{ object.correo|default:'No registra' }}</p>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="info-tile h-100">
          <h6 class="mb-2"><i class="bi bi-calendar-event text-accent"></i> Fecha de Nacimiento</h6>
          <p class="mb-0">{{ object.fecha_nacimiento|date:'Y-m-d' }}</p>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="info-tile h-100">
          <h6 class="mb-2"><i class="bi bi-geo text-accent"></i> Ciudad</h6>
          <p class="mb-0">{{ object.ciudad }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal eliminar aprendiz -->
<div class="modal fade" id="confirmDeleteAprendizModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="bi bi-trash text-danger"></i> Confirmar eliminación</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">¿Seguro que deseas eliminar este aprendiz? Esta acción no se puede deshacer.</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <form action="{% url 'aprendiz_delete' object.id %}" method="post" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">Eliminar</button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
